# ã€ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ã‚¢ãƒ—ãƒª å®Œå…¨å®Ÿè£…ä»•æ§˜æ›¸ v3 - æ”¹å–„ç‰ˆã€‘

## ğŸ“‹ v3ã§ã®ä¸»ãªå¤‰æ›´ç‚¹
- âœ… å…¨ã¦ã®è‹±èªè¡¨è¨˜ã‚’æ—¥æœ¬èªåŒ–ï¼ˆé€²åŒ–ãƒã‚§ãƒ¼ãƒ³ã€å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºã€ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ï¼‰
- âœ… ãƒšãƒ¼ã‚¸çŠ¶æ…‹ã®ä¿æŒæ©Ÿèƒ½è¿½åŠ ï¼ˆè©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰æˆ»ã£ã¦ã‚‚å…ƒã®ãƒšãƒ¼ã‚¸ã«ï¼‰
- âœ… å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºãƒ•ã‚£ãƒ«ã‚¿ã‚’ORãƒ­ã‚¸ãƒƒã‚¯ã«å¤‰æ›´
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’å…¨ãƒã‚±ãƒ¢ãƒ³å¯¾è±¡ã«å¤‰æ›´ï¼ˆæ¤œç´¢ãƒœã‚¿ãƒ³æ–¹å¼ï¼‰
- âœ… ãƒ•ã‚£ãƒ«ã‚¿UIã‚’ãƒ¢ãƒ¼ãƒ€ãƒ«åŒ–
- âœ… ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ã¯ANDæ¡ä»¶ï¼ˆã™ã¹ã¦ã®é¸æŠã‚¿ã‚¤ãƒ—ã‚’å«ã‚€ãƒã‚±ãƒ¢ãƒ³ã®ã¿ï¼‰

---

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶

### ãƒ™ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³
- æ—¢å­˜ã®ãƒã‚±ãƒ¢ãƒ³å›³é‘‘é¢¨CSSã‚’ãƒ™ãƒ¼ã‚¹ã«å®Ÿè£…
- èµ¤ã„ãƒœãƒ‡ã‚£ï¼ˆ#dc0a2dï¼‰ã¨é’ã„ãƒ©ã‚¤ãƒˆã€ç·‘ã®ç”»é¢
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆã‚¹ãƒãƒ›/ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ/PCï¼‰

### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
```
ãƒ—ãƒ©ã‚¤ãƒãƒª: #dc0a2dï¼ˆèµ¤ï¼‰
ã‚»ã‚«ãƒ³ãƒ€ãƒª: #3b82f6ï¼ˆé’ï¼‰
èƒŒæ™¯: #2d2d2dï¼ˆãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼ï¼‰
ç”»é¢: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%)
```

---

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### å¿…é ˆæŠ€è¡“
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: React (Viteæ¨å¥¨)
- **API**: PokÃ©API (https://pokeapi.co/api/v2/)
- **çŠ¶æ…‹ç®¡ç†**: useState, useEffect, useContext
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: localStorage (ãŠæ°—ã«å…¥ã‚Š + ãƒšãƒ¼ã‚¸çŠ¶æ…‹ä¿å­˜)
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: CSS Modules or Tailwind CSS
- **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: React Router v6

### æ¨å¥¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- axios: APIé€šä¿¡
- react-icons: ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PokemonList.jsx        # ãƒªã‚¹ãƒˆè¡¨ç¤º
â”‚   â”œâ”€â”€ PokemonCard.jsx        # ã‚«ãƒ¼ãƒ‰1æš
â”‚   â”œâ”€â”€ PokemonDetail.jsx      # è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆç‹¬ç«‹ãƒšãƒ¼ã‚¸ï¼‰
â”‚   â”œâ”€â”€ FilterModal.jsx        # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ SearchBar.jsx          # æ¤œç´¢ãƒãƒ¼
â”‚   â”œâ”€â”€ Pagination.jsx         # ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ FavoriteButton.jsx     # ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ usePokemonData.js      # ãƒã‚±ãƒ¢ãƒ³ãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚   â”œâ”€â”€ useFavorites.js        # ãŠæ°—ã«å…¥ã‚Šç®¡ç†
â”‚   â””â”€â”€ usePageState.js        # ãƒšãƒ¼ã‚¸çŠ¶æ…‹ç®¡ç†ï¼ˆæ–°è¦ï¼‰
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ pokemonApi.js          # APIé–¢æ•°
â”‚   â”œâ”€â”€ localStorage.js        # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ“ä½œ
â”‚   â”œâ”€â”€ translatePokemon.js    # æ—¥æœ¬èªç¿»è¨³ãƒãƒƒãƒ”ãƒ³ã‚°
â”‚   â””â”€â”€ filterPokemon.js       # ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°é–¢æ•°ï¼ˆæ–°è¦ï¼‰
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ pokemonNames.json      # æ—¥æœ¬èªåãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ generationGames.json   # ä¸–ä»£åˆ¥ã‚²ãƒ¼ãƒ ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆæ–°è¦ï¼‰
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ pokedex.css            # ãƒã‚±ãƒ¢ãƒ³å›³é‘‘CSS
â”‚   â””â”€â”€ FilterModal.css        # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ«CSSï¼ˆæ–°è¦ï¼‰
â””â”€â”€ App.jsx
```

---

## ğŸ¯ æ©Ÿèƒ½è©³ç´°ä»•æ§˜

### 1. ç”»é¢æ§‹æˆ

#### 1-1. ãƒªã‚¹ãƒˆç”»é¢ (`/`)
- ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†
  - å·¦: ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ãƒ©ã‚¤ãƒˆï¼ˆè£…é£¾ï¼‰
  - ä¸­å¤®: ã€Œå…¨ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ã€ã‚¿ã‚¤ãƒˆãƒ«
  - å³: è¡¨ç¤ºä»¶æ•°åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ï¼ˆ20/50/100ä»¶ï¼‰
  
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ã‚¨ãƒªã‚¢
  - æ¤œç´¢ãƒãƒ¼
    - ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼: ã€Œãƒã‚±ãƒ¢ãƒ³ã‚’æ¤œç´¢...ï¼ˆåå‰ãƒ»No.ï¼‰ã€
    - å…¥åŠ›å³åº§ã«å€™è£œè¡¨ç¤ºï¼ˆdebounce 300msï¼‰
  - **ã€ŒğŸ” ãƒ•ã‚£ãƒ«ã‚¿ã€ãƒœã‚¿ãƒ³ï¼ˆæ–°è¦ï¼‰**
    - ã‚¯ãƒªãƒƒã‚¯ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
    - ãƒãƒƒã‚¸ã§é©ç”¨ä¸­ã®ãƒ•ã‚£ãƒ«ã‚¿æ•°ã‚’è¡¨ç¤ºï¼ˆä¾‹: ã€ŒğŸ” ãƒ•ã‚£ãƒ«ã‚¿ (3)ã€ï¼‰
  - é©ç”¨ä¸­ã®ãƒ•ã‚£ãƒ«ã‚¿ã‚¿ã‚°ï¼ˆæ–°è¦ï¼‰
    - ä¾‹: `[ã»ã®ãŠã‚¿ã‚¤ãƒ— Ã—] [èµ¤ãƒ»ç·‘ Ã—] [èº«é•·: 1.0-2.0m Ã—]`
    - Ã— ã‚’ã‚¯ãƒªãƒƒã‚¯ã§å€‹åˆ¥è§£é™¤å¯èƒ½

- ãƒã‚±ãƒ¢ãƒ³ã‚°ãƒªãƒƒãƒ‰
  - ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼‰
  - ã‚«ãƒ¼ãƒ‰1æšã®æ§‹æˆ:
    ```
    [ç”»åƒ]
    No. 006
    ãƒªã‚¶ãƒ¼ãƒ‰ãƒ³
    [ã»ã®ãŠã‚¿ã‚¤ãƒ—] [ã²ã“ã†ã‚¿ã‚¤ãƒ—]
    [â˜…ãƒœã‚¿ãƒ³]
    ```

- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
  - å‰ã¸/æ¬¡ã¸ãƒœã‚¿ãƒ³
  - ãƒšãƒ¼ã‚¸ç•ªå·è¡¨ç¤ºï¼ˆæœ€å¤§5å€‹ã¾ã§ï¼‰
  - ç·ä»¶æ•°è¡¨ç¤º
  - ä¾‹: ã€Œ1-20 / 158ä»¶ã€ï¼ˆãƒ•ã‚£ãƒ«ã‚¿é©ç”¨æ™‚ã¯ä»¶æ•°ãŒå¤‰å‹•ï¼‰

#### 1-2. ãƒ•ã‚£ãƒ«ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆæ–°è¦ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” ãƒã‚±ãƒ¢ãƒ³ã‚’çµã‚Šè¾¼ã‚€          [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ ã€ã‚¿ã‚¤ãƒ—ã€‘                          â”‚
â”‚ â˜ ãƒãƒ¼ãƒãƒ«  â˜ ã»ã®ãŠ  â˜ ã¿ãš       â”‚
â”‚ â˜ ã§ã‚“ã    â˜ ãã•    â˜ ã“ãŠã‚Š     â”‚
â”‚ â˜ ã‹ãã¨ã†  â˜ ã©ã    â˜ ã˜ã‚ã‚“     â”‚
â”‚ â˜ ã²ã“ã†    â˜ ã‚¨ã‚¹ãƒ‘ãƒ¼ â˜ ã‚€ã—      â”‚
â”‚ â˜ ã„ã‚      â˜ ã‚´ãƒ¼ã‚¹ãƒˆ â˜ ãƒ‰ãƒ©ã‚´ãƒ³  â”‚
â”‚ â˜ ã‚ã      â˜ ã¯ãŒã­  â˜ ãƒ•ã‚§ã‚¢ãƒªãƒ¼ â”‚
â”‚                                     â”‚
â”‚ ã€èº«é•·ã€‘                            â”‚
â”‚ [â–¬â–¬â–¬â—â•â•â•â•â•] 0.3m - 2.0m           â”‚
â”‚                                     â”‚
â”‚ ã€ä½“é‡ã€‘                            â”‚
â”‚ [â–¬â–¬â—â•â•â•â•â•â•] 5kg - 100kg           â”‚
â”‚                                     â”‚
â”‚ ã€å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºï¼ˆORãƒ•ã‚£ãƒ«ã‚¿ï¼‰ã€‘      â”‚
â”‚ â˜ ç¬¬1ä¸–ä»£: èµ¤ãƒ»ç·‘ãƒ»é’ãƒ»ãƒ”ã‚«ãƒãƒ¥ã‚¦  â”‚
â”‚ â˜ ç¬¬2ä¸–ä»£: é‡‘ãƒ»éŠ€ãƒ»ã‚¯ãƒªã‚¹ã‚¿ãƒ«      â”‚
â”‚ â˜ ç¬¬3ä¸–ä»£: ãƒ«ãƒ“ãƒ¼ãƒ»ã‚µãƒ•ã‚¡ã‚¤ã‚¢ãƒ»     â”‚
â”‚            ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰               â”‚
â”‚ â˜ ç¬¬4ä¸–ä»£: ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ãƒ»ãƒ‘ãƒ¼ãƒ«ãƒ»   â”‚
â”‚            ãƒ—ãƒ©ãƒãƒŠ                 â”‚
â”‚ â˜ ç¬¬5ä¸–ä»£: ãƒ–ãƒ©ãƒƒã‚¯ãƒ»ãƒ›ãƒ¯ã‚¤ãƒˆ      â”‚
â”‚ â˜ ç¬¬6ä¸–ä»£: Xãƒ»Y                    â”‚
â”‚ â˜ ç¬¬7ä¸–ä»£: ã‚µãƒ³ãƒ»ãƒ ãƒ¼ãƒ³            â”‚
â”‚ â˜ ç¬¬8ä¸–ä»£: ã‚½ãƒ¼ãƒ‰ãƒ»ã‚·ãƒ¼ãƒ«ãƒ‰        â”‚
â”‚ â˜ ç¬¬9ä¸–ä»£: ã‚¹ã‚«ãƒ¼ãƒ¬ãƒƒãƒˆãƒ»          â”‚
â”‚            ãƒã‚¤ã‚ªãƒ¬ãƒƒãƒˆ             â”‚
â”‚                                     â”‚
â”‚ [ã‚¯ãƒªã‚¢]              [æ¤œç´¢å®Ÿè¡Œ]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä»•æ§˜:**
- ç”»é¢ä¸­å¤®ã«è¡¨ç¤ºï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚ã‚Šï¼‰
- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½
- ESCã‚­ãƒ¼ã¾ãŸã¯å¤–å´ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
- ã€Œæ¤œç´¢å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã§é©ç”¨
- ã€Œã‚¯ãƒªã‚¢ã€ãƒœã‚¿ãƒ³ã§å…¨æ¡ä»¶ã‚’ãƒªã‚»ãƒƒãƒˆ

**é‡è¦: ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ã¯ANDæ¡ä»¶**
- è¤‡æ•°ã®ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã—ãŸå ´åˆã€ãã‚Œã‚‰**ã™ã¹ã¦**ã‚’å«ã‚€ãƒã‚±ãƒ¢ãƒ³ã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
- ä¾‹: ã€Œã»ã®ãŠã€ã¨ã€Œã²ã“ã†ã€ã‚’é¸æŠ â†’ ãƒªã‚¶ãƒ¼ãƒ‰ãƒ³ã®ã¿è¡¨ç¤º

#### 1-3. è©³ç´°ãƒšãƒ¼ã‚¸ (`/pokemon/:id`)
**é‡è¦: ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ã¯ãªãã€ç‹¬ç«‹ã—ãŸãƒšãƒ¼ã‚¸ã¨ã—ã¦å®Ÿè£…**

- ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ãƒ‡ã‚¶ã‚¤ãƒ³ã®å¤§ããªç”»é¢
- å·¦å´ãƒ‘ãƒãƒ«:
  ```
  [å¤§ãã„ç”»åƒï¼ˆ300x300pxï¼‰]
  [å‰ã®ãƒã‚±ãƒ¢ãƒ³] [æ¬¡ã®ãƒã‚±ãƒ¢ãƒ³] ãƒœã‚¿ãƒ³
  [â˜…ãŠæ°—ã«å…¥ã‚Šç™»éŒ²] ãƒœã‚¿ãƒ³ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
  ```
  
- å³å´ãƒ‘ãƒãƒ«:
  ```
  No. 006
  ãƒªã‚¶ãƒ¼ãƒ‰ãƒ³ (Charizard)
  
  [ã»ã®ãŠã‚¿ã‚¤ãƒ—] [ã²ã“ã†ã‚¿ã‚¤ãƒ—]  â† æ—¥æœ¬èª
  
  ã€åŸºæœ¬æƒ…å ±ã€‘
  èº«é•·: 1.7m
  ä½“é‡: 90.5kg
  
  ã€èª¬æ˜ã€‘
  ç¿¼ã§ç©ºé«˜ãé£›ã³ã€å£ã‹ã‚‰å¼·çƒˆãªç‚ã‚’åãå‡ºã™ã€‚
  ãã®ç‚ã¯å²©ã‚’ã‚‚æº¶ã‹ã™ã»ã©ã®é«˜æ¸©ã§ã‚ã‚‹ã€‚
  
  ã€èƒ½åŠ›å€¤ã€‘
  HP:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 78
  ã“ã†ã’ã: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 84
  ã¼ã†ãã‚‡: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 78
  ã¨ãã“ã†: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 109
  ã¨ãã¼ã†: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 85
  ã™ã°ã‚„ã•: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 100
  
  ã€é€²åŒ–ãƒã‚§ãƒ¼ãƒ³ã€‘  â† æ—¥æœ¬èª
  ãƒ’ãƒˆã‚«ã‚² â†’ ãƒªã‚¶ãƒ¼ãƒ‰ â†’ ãƒªã‚¶ãƒ¼ãƒ‰ãƒ³
  
  ã€å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºã€‘  â† æ—¥æœ¬èª
  â€¢ ç¬¬1ä¸–ä»£: èµ¤ãƒ»ç·‘
  â€¢ ç¬¬1ä¸–ä»£ãƒªãƒ¡ã‚¤ã‚¯: ãƒ•ã‚¡ã‚¤ã‚¢ãƒ¬ãƒƒãƒ‰ãƒ»ãƒªãƒ¼ãƒ•ã‚°ãƒªãƒ¼ãƒ³
  â€¢ ç¬¬6ä¸–ä»£: Xãƒ»Y
  â€¢ ç¬¬8ä¸–ä»£: ã‚½ãƒ¼ãƒ‰ãƒ»ã‚·ãƒ¼ãƒ«ãƒ‰
  
  [ãƒªã‚¹ãƒˆã«æˆ»ã‚‹] ãƒœã‚¿ãƒ³  â† å…ƒã®ãƒšãƒ¼ã‚¸ãƒ»è¡¨ç¤ºä»¶æ•°ã‚’ä¿æŒ
  ```

#### 1-4. ãŠæ°—ã«å…¥ã‚Šç”»é¢ (`/favorites`)
- ãƒªã‚¹ãƒˆç”»é¢ã¨åŒã˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã€ŒãŠæ°—ã«å…¥ã‚Š: Xä»¶ã€è¡¨ç¤º
- ãŠæ°—ã«å…¥ã‚ŠãŒ0ä»¶ã®å ´åˆ:
  ```
  â­ ãŠæ°—ã«å…¥ã‚ŠãŒã‚ã‚Šã¾ã›ã‚“
  ãƒã‚±ãƒ¢ãƒ³ã‚’æ¢ã—ã«è¡Œã“ã†ï¼
  [ãƒªã‚¹ãƒˆã¸æˆ»ã‚‹]ãƒœã‚¿ãƒ³
  ```

---

## ğŸŒ æ—¥æœ¬èªå¯¾å¿œä»•æ§˜ï¼ˆv3æ”¹å–„ç‰ˆï¼‰

### é‡è¦: ã™ã¹ã¦ã®è¡¨ç¤ºã‚’æ—¥æœ¬èªåŒ–

#### 1. ãƒã‚±ãƒ¢ãƒ³åã®æ—¥æœ¬èªåŒ–
```javascript
// pokemon-speciesã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰æ—¥æœ¬èªåã‚’å–å¾—
const getJapaneseName = async (pokemonId) => {
  const response = await axios.get(
    `https://pokeapi.co/api/v2/pokemon-species/${pokemonId}`
  );
  
  const japaneseName = response.data.names.find(
    name => name.language.name === 'ja'
  );
  
  const japaneseDescription = response.data.flavor_text_entries.find(
    entry => entry.language.name === 'ja'
  );
  
  return {
    name: japaneseName?.name || 'unknown',
    description: japaneseDescription?.flavor_text || ''
  };
};
```

#### 2. ã‚¿ã‚¤ãƒ—ã®æ—¥æœ¬èªãƒãƒƒãƒ”ãƒ³ã‚°
```javascript
// src/utils/translatePokemon.js
export const TYPE_TRANSLATIONS = {
  normal: 'ãƒãƒ¼ãƒãƒ«',
  fire: 'ã»ã®ãŠ',
  water: 'ã¿ãš',
  electric: 'ã§ã‚“ã',
  grass: 'ãã•',
  ice: 'ã“ãŠã‚Š',
  fighting: 'ã‹ãã¨ã†',
  poison: 'ã©ã',
  ground: 'ã˜ã‚ã‚“',
  flying: 'ã²ã“ã†',
  psychic: 'ã‚¨ã‚¹ãƒ‘ãƒ¼',
  bug: 'ã‚€ã—',
  rock: 'ã„ã‚',
  ghost: 'ã‚´ãƒ¼ã‚¹ãƒˆ',
  dragon: 'ãƒ‰ãƒ©ã‚´ãƒ³',
  dark: 'ã‚ã',
  steel: 'ã¯ãŒã­',
  fairy: 'ãƒ•ã‚§ã‚¢ãƒªãƒ¼'
};

export const translateType = (englishType) => {
  return TYPE_TRANSLATIONS[englishType.toLowerCase()] || englishType;
};
```

#### 3. èƒ½åŠ›å€¤ã®æ—¥æœ¬èª
```javascript
export const STAT_TRANSLATIONS = {
  hp: 'HP',
  attack: 'ã“ã†ã’ã',
  defense: 'ã¼ã†ãã‚‡',
  'special-attack': 'ã¨ãã“ã†',
  'special-defense': 'ã¨ãã¼ã†',
  speed: 'ã™ã°ã‚„ã•'
};

export const translateStat = (englishStat) => {
  return STAT_TRANSLATIONS[englishStat] || englishStat;
};
```

#### 4. ä¸–ä»£ãƒ»ã‚²ãƒ¼ãƒ ã‚¿ã‚¤ãƒˆãƒ«ã®æ—¥æœ¬èªãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆæ–°è¦ï¼‰
```javascript
// src/data/generationGames.json ã¾ãŸã¯ src/utils/translatePokemon.js

export const GENERATION_TRANSLATIONS = {
  'generation-i': {
    label: 'ç¬¬1ä¸–ä»£: èµ¤ãƒ»ç·‘ãƒ»é’ãƒ»ãƒ”ã‚«ãƒãƒ¥ã‚¦',
    games: ['red', 'green', 'blue', 'yellow'],
    gamesJa: ['èµ¤', 'ç·‘', 'é’', 'ãƒ”ã‚«ãƒãƒ¥ã‚¦']
  },
  'generation-ii': {
    label: 'ç¬¬2ä¸–ä»£: é‡‘ãƒ»éŠ€ãƒ»ã‚¯ãƒªã‚¹ã‚¿ãƒ«',
    games: ['gold', 'silver', 'crystal'],
    gamesJa: ['é‡‘', 'éŠ€', 'ã‚¯ãƒªã‚¹ã‚¿ãƒ«']
  },
  'generation-iii': {
    label: 'ç¬¬3ä¸–ä»£: ãƒ«ãƒ“ãƒ¼ãƒ»ã‚µãƒ•ã‚¡ã‚¤ã‚¢ãƒ»ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰',
    games: ['ruby', 'sapphire', 'emerald', 'firered', 'leafgreen'],
    gamesJa: ['ãƒ«ãƒ“ãƒ¼', 'ã‚µãƒ•ã‚¡ã‚¤ã‚¢', 'ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰', 'ãƒ•ã‚¡ã‚¤ã‚¢ãƒ¬ãƒƒãƒ‰', 'ãƒªãƒ¼ãƒ•ã‚°ãƒªãƒ¼ãƒ³']
  },
  'generation-iv': {
    label: 'ç¬¬4ä¸–ä»£: ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ãƒ»ãƒ‘ãƒ¼ãƒ«ãƒ»ãƒ—ãƒ©ãƒãƒŠ',
    games: ['diamond', 'pearl', 'platinum', 'heartgold', 'soulsilver'],
    gamesJa: ['ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰', 'ãƒ‘ãƒ¼ãƒ«', 'ãƒ—ãƒ©ãƒãƒŠ', 'ãƒãƒ¼ãƒˆã‚´ãƒ¼ãƒ«ãƒ‰', 'ã‚½ã‚¦ãƒ«ã‚·ãƒ«ãƒãƒ¼']
  },
  'generation-v': {
    label: 'ç¬¬5ä¸–ä»£: ãƒ–ãƒ©ãƒƒã‚¯ãƒ»ãƒ›ãƒ¯ã‚¤ãƒˆ',
    games: ['black', 'white', 'black-2', 'white-2'],
    gamesJa: ['ãƒ–ãƒ©ãƒƒã‚¯', 'ãƒ›ãƒ¯ã‚¤ãƒˆ', 'ãƒ–ãƒ©ãƒƒã‚¯2', 'ãƒ›ãƒ¯ã‚¤ãƒˆ2']
  },
  'generation-vi': {
    label: 'ç¬¬6ä¸–ä»£: Xãƒ»Y',
    games: ['x', 'y', 'omega-ruby', 'alpha-sapphire'],
    gamesJa: ['X', 'Y', 'ã‚ªãƒ¡ã‚¬ãƒ«ãƒ“ãƒ¼', 'ã‚¢ãƒ«ãƒ•ã‚¡ã‚µãƒ•ã‚¡ã‚¤ã‚¢']
  },
  'generation-vii': {
    label: 'ç¬¬7ä¸–ä»£: ã‚µãƒ³ãƒ»ãƒ ãƒ¼ãƒ³',
    games: ['sun', 'moon', 'ultra-sun', 'ultra-moon'],
    gamesJa: ['ã‚µãƒ³', 'ãƒ ãƒ¼ãƒ³', 'ã‚¦ãƒ«ãƒˆãƒ©ã‚µãƒ³', 'ã‚¦ãƒ«ãƒˆãƒ©ãƒ ãƒ¼ãƒ³']
  },
  'generation-viii': {
    label: 'ç¬¬8ä¸–ä»£: ã‚½ãƒ¼ãƒ‰ãƒ»ã‚·ãƒ¼ãƒ«ãƒ‰',
    games: ['sword', 'shield', 'brilliant-diamond', 'shining-pearl', 'legends-arceus'],
    gamesJa: ['ã‚½ãƒ¼ãƒ‰', 'ã‚·ãƒ¼ãƒ«ãƒ‰', 'ãƒ–ãƒªãƒªã‚¢ãƒ³ãƒˆãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰', 'ã‚·ãƒ£ã‚¤ãƒ‹ãƒ³ã‚°ãƒ‘ãƒ¼ãƒ«', 'LEGENDS ã‚¢ãƒ«ã‚»ã‚¦ã‚¹']
  },
  'generation-ix': {
    label: 'ç¬¬9ä¸–ä»£: ã‚¹ã‚«ãƒ¼ãƒ¬ãƒƒãƒˆãƒ»ãƒã‚¤ã‚ªãƒ¬ãƒƒãƒˆ',
    games: ['scarlet', 'violet'],
    gamesJa: ['ã‚¹ã‚«ãƒ¼ãƒ¬ãƒƒãƒˆ', 'ãƒã‚¤ã‚ªãƒ¬ãƒƒãƒˆ']
  }
};

// ä¸–ä»£åã‹ã‚‰æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ã‚’å–å¾—
export const getGenerationLabel = (generationName) => {
  return GENERATION_TRANSLATIONS[generationName]?.label || generationName;
};

// ã‚²ãƒ¼ãƒ åã‚’æ—¥æœ¬èªã«å¤‰æ›
export const translateGameName = (gameName) => {
  for (const gen of Object.values(GENERATION_TRANSLATIONS)) {
    const index = gen.games.indexOf(gameName);
    if (index !== -1) {
      return gen.gamesJa[index];
    }
  }
  return gameName;
};
```

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ç®¡ç†ä»•æ§˜ï¼ˆv3æ”¹å–„ç‰ˆï¼‰

### â­ é‡è¦ãªå¤‰æ›´: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®ä»•çµ„ã¿

#### å¾“æ¥ã®å•é¡Œç‚¹
```javascript
// âŒ æ‚ªã„ä¾‹: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã ã‘ãƒ•ã‚£ãƒ«ã‚¿
1. ãƒšãƒ¼ã‚¸1ã®20åŒ¹ã‚’å–å¾—
2. ãã®20åŒ¹ã®ä¸­ã‹ã‚‰ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆä¾‹: ã»ã®ãŠã‚¿ã‚¤ãƒ—ï¼‰
3. çµæœãŒ3åŒ¹ã ã‘ã«ãªã‚‹ï¼ˆæ®‹ã‚Š17åŒ¹ã¯éè¡¨ç¤ºï¼‰
```

#### æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆæ¤œç´¢ãƒœã‚¿ãƒ³æ–¹å¼ï¼‰
```javascript
// âœ… è‰¯ã„ä¾‹: å…¨ãƒã‚±ãƒ¢ãƒ³ã‹ã‚‰ãƒ•ã‚£ãƒ«ã‚¿
1. å…¨1025åŒ¹ã®ãƒªã‚¹ãƒˆã‚’ä¿æŒï¼ˆãƒ¡ãƒ¢ãƒªä¸Šï¼‰
2. ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’è¨­å®š
3. ã€Œæ¤œç´¢å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å…¨1025åŒ¹ã®ä¸­ã‹ã‚‰æ¡ä»¶ã«åˆã†ãƒã‚±ãƒ¢ãƒ³ã‚’æŠ½å‡º
5. æŠ½å‡ºçµæœã‚’ãƒšãƒ¼ã‚¸ãƒ³ã‚°è¡¨ç¤º
```

### å®Ÿè£…æ‰‹é †

#### Step 1: å…¨ãƒã‚±ãƒ¢ãƒ³ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†

```javascript
// src/hooks/usePokemonData.jsï¼ˆv3æ”¹å–„ç‰ˆï¼‰

import { useState, useEffect, useMemo } from 'react';
import { fetchAllPokemonList, fetchPokemonDetails } from '../utils/pokemonApi';
import { filterPokemons } from '../utils/filterPokemon';

export const usePokemonData = (currentPage, itemsPerPage, filterConditions) => {
  const [allPokemonList, setAllPokemonList] = useState([]);
  const [allPokemonDetails, setAllPokemonDetails] = useState([]);
  const [displayedPokemons, setDisplayedPokemons] = useState([]);
  const [loading, setLoading] = useState(true);
  const [detailsLoading, setDetailsLoading] = useState(false);
  const [error, setError] = useState(null);
  
  // Step 1: åˆå›ã«å…¨ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆã‚’å–å¾—
  useEffect(() => {
    const loadAllPokemonList = async () => {
      try {
        setLoading(true);
        const list = await fetchAllPokemonList();
        setAllPokemonList(list);
        setLoading(false);
      } catch (err) {
        setError('ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
        setLoading(false);
      }
    };
    
    loadAllPokemonList();
  }, []);
  
  // Step 2: å…¨ãƒã‚±ãƒ¢ãƒ³ã®è©³ç´°ã‚’æ®µéšçš„ã«å–å¾—ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
  useEffect(() => {
    if (allPokemonList.length === 0) return;
    
    const loadAllDetails = async () => {
      try {
        // æœ€åˆã®100ä»¶ã‚’å„ªå…ˆå–å¾—
        const firstBatch = await fetchPokemonDetails(allPokemonList, 0, 100);
        setAllPokemonDetails(firstBatch);
        
        // æ®‹ã‚Šã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å–å¾—
        for (let i = 100; i < allPokemonList.length; i += 100) {
          const batch = await fetchPokemonDetails(
            allPokemonList,
            i,
            Math.min(i + 100, allPokemonList.length)
          );
          setAllPokemonDetails(prev => [...prev, ...batch]);
        }
      } catch (err) {
        console.error('è©³ç´°ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼:', err);
      }
    };
    
    loadAllDetails();
  }, [allPokemonList]);
  
  // Step 3: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° + ãƒšãƒ¼ã‚¸ãƒ³ã‚°
  const filteredPokemons = useMemo(() => {
    if (allPokemonDetails.length === 0) return [];
    return filterPokemons(allPokemonDetails, filterConditions);
  }, [allPokemonDetails, filterConditions]);
  
  // Step 4: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã™ã‚‹ãƒã‚±ãƒ¢ãƒ³ã‚’åˆ‡ã‚Šå‡ºã—
  useEffect(() => {
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    setDisplayedPokemons(filteredPokemons.slice(startIndex, endIndex));
  }, [filteredPokemons, currentPage, itemsPerPage]);
  
  return {
    displayedPokemons,
    totalCount: filteredPokemons.length,
    totalPokemonCount: allPokemonList.length,
    loading,
    detailsLoading,
    error
  };
};
```

#### Step 2: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°é–¢æ•°ã®å®Ÿè£…

```javascript
// src/utils/filterPokemon.jsï¼ˆæ–°è¦ï¼‰

/**
 * ãƒã‚±ãƒ¢ãƒ³ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
 * @param {Array} pokemons - å…¨ãƒã‚±ãƒ¢ãƒ³ãƒ‡ãƒ¼ã‚¿
 * @param {Object} conditions - ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶
 * @returns {Array} - ãƒ•ã‚£ãƒ«ã‚¿å¾Œã®ãƒã‚±ãƒ¢ãƒ³é…åˆ—
 */
export const filterPokemons = (pokemons, conditions) => {
  if (!conditions) return pokemons;
  
  return pokemons.filter(pokemon => {
    // 1. ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆANDæ¡ä»¶ï¼‰â­é‡è¦
    // é¸æŠã•ã‚ŒãŸã™ã¹ã¦ã®ã‚¿ã‚¤ãƒ—ã‚’å«ã‚€ãƒã‚±ãƒ¢ãƒ³ã®ã¿ã‚’è¿”ã™
    if (conditions.types && conditions.types.length > 0) {
      const pokemonTypes = pokemon.types.map(typeObj => typeObj.type.name);
      // ã™ã¹ã¦ã®é¸æŠã•ã‚ŒãŸã‚¿ã‚¤ãƒ—ãŒãƒã‚±ãƒ¢ãƒ³ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
      const hasAllTypes = conditions.types.every(selectedType =>
        pokemonTypes.includes(selectedType)
      );
      if (!hasAllTypes) return false;
    }
    
    // 2. èº«é•·ãƒ•ã‚£ãƒ«ã‚¿
    if (conditions.heightMin !== undefined && pokemon.height < conditions.heightMin * 10) {
      return false;
    }
    if (conditions.heightMax !== undefined && pokemon.height > conditions.heightMax * 10) {
      return false;
    }
    
    // 3. ä½“é‡ãƒ•ã‚£ãƒ«ã‚¿
    if (conditions.weightMin !== undefined && pokemon.weight < conditions.weightMin * 10) {
      return false;
    }
    if (conditions.weightMax !== undefined && pokemon.weight > conditions.weightMax * 10) {
      return false;
    }
    
    // 4. å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºãƒ•ã‚£ãƒ«ã‚¿ï¼ˆORæ¡ä»¶ï¼‰â­é‡è¦
    if (conditions.generations && conditions.generations.length > 0) {
      // pokemon.generationãŒé¸æŠã•ã‚ŒãŸä¸–ä»£ã®ã„ãšã‚Œã‹ã«å«ã¾ã‚Œã‚‹ã‹
      const matchesGeneration = conditions.generations.includes(pokemon.generation);
      if (!matchesGeneration) return false;
    }
    
    return true;
  });
};

/**
 * æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆåå‰ãƒ»ç•ªå·ï¼‰
 */
export const searchPokemons = (pokemons, searchQuery) => {
  if (!searchQuery || searchQuery.trim() === '') return pokemons;
  
  const query = searchQuery.toLowerCase().trim();
  
  return pokemons.filter(pokemon => {
    // æ—¥æœ¬èªåã§æ¤œç´¢
    const nameMatch = pokemon.nameJa?.toLowerCase().includes(query);
    // è‹±èªåã§æ¤œç´¢
    const nameEnMatch = pokemon.name?.toLowerCase().includes(query);
    // ç•ªå·ã§æ¤œç´¢ï¼ˆä¾‹: "6" or "006"ï¼‰
    const idMatch = pokemon.id.toString().includes(query) || 
                   pokemon.id.toString().padStart(3, '0').includes(query);
    
    return nameMatch || nameEnMatch || idMatch;
  });
};
```

---

## ğŸ”„ ãƒšãƒ¼ã‚¸çŠ¶æ…‹ã®ä¿æŒæ©Ÿèƒ½ï¼ˆæ–°è¦ï¼‰

### å•é¡Œã®è§£æ±º

è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰æˆ»ã‚‹éš›ã«ã€ä»¥ä¸‹ã‚’ä¿æŒã—ã¾ã™ï¼š
- ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ç•ªå·
- è¡¨ç¤ºä»¶æ•°ï¼ˆ20/50/100ï¼‰
- ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶
- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### å®Ÿè£…æ–¹æ³•

#### æ–¹æ³•1: React Router ã® state ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

```javascript
// src/components/PokemonCard.jsx
import { useNavigate } from 'react-router-dom';

const PokemonCard = ({ pokemon, currentPage, itemsPerPage, filterConditions }) => {
  const navigate = useNavigate();
  
  const handleClick = () => {
    navigate(`/pokemon/${pokemon.id}`, {
      state: {
        fromPage: currentPage,
        itemsPerPage: itemsPerPage,
        filterConditions: filterConditions,
        scrollPosition: window.scrollY
      }
    });
  };
  
  return (
    <div onClick={handleClick} className="pokemon-card">
      {/* ã‚«ãƒ¼ãƒ‰å†…å®¹ */}
    </div>
  );
};
```

```javascript
// src/components/PokemonDetail.jsx
import { useNavigate, useLocation } from 'react-router-dom';

const PokemonDetail = () => {
  const navigate = useNavigate();
  const location = useLocation();
  
  const handleBackToList = () => {
    const state = location.state || {};
    
    navigate('/', {
      state: {
        page: state.fromPage || 1,
        itemsPerPage: state.itemsPerPage || 20,
        filterConditions: state.filterConditions || null,
        scrollPosition: state.scrollPosition || 0
      }
    });
  };
  
  return (
    <div>
      {/* è©³ç´°è¡¨ç¤º */}
      <button onClick={handleBackToList}>ãƒªã‚¹ãƒˆã«æˆ»ã‚‹</button>
    </div>
  );
};
```

```javascript
// src/components/PokemonList.jsx
import { useLocation } from 'react-router-dom';
import { useEffect } from 'react';

const PokemonList = () => {
  const location = useLocation();
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage, setItemsPerPage] = useState(20);
  const [filterConditions, setFilterConditions] = useState(null);
  
  // è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰æˆ»ã£ã¦ããŸæ™‚ã«çŠ¶æ…‹ã‚’å¾©å…ƒ
  useEffect(() => {
    if (location.state) {
      if (location.state.page) setCurrentPage(location.state.page);
      if (location.state.itemsPerPage) setItemsPerPage(location.state.itemsPerPage);
      if (location.state.filterConditions) setFilterConditions(location.state.filterConditions);
      
      // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’å¾©å…ƒ
      if (location.state.scrollPosition) {
        setTimeout(() => {
          window.scrollTo(0, location.state.scrollPosition);
        }, 100);
      }
    }
  }, [location.state]);
  
  // ... æ®‹ã‚Šã®å®Ÿè£…
};
```

---

## ğŸ¨ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å®Ÿè£…

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

```javascript
// src/components/FilterModal.jsx

import React, { useState, useEffect } from 'react';
import { TYPE_TRANSLATIONS, GENERATION_TRANSLATIONS } from '../utils/translatePokemon';
import './FilterModal.css';

const FilterModal = ({ isOpen, onClose, initialFilters, onApplyFilters }) => {
  const [selectedTypes, setSelectedTypes] = useState([]);
  const [heightRange, setHeightRange] = useState([0.3, 20]);
  const [weightRange, setWeightRange] = useState([1, 1000]);
  const [selectedGenerations, setSelectedGenerations] = useState([]);
  
  // åˆæœŸå€¤ã‚’è¨­å®š
  useEffect(() => {
    if (initialFilters) {
      setSelectedTypes(initialFilters.types || []);
      setHeightRange(initialFilters.heightRange || [0.3, 20]);
      setWeightRange(initialFilters.weightRange || [1, 1000]);
      setSelectedGenerations(initialFilters.generations || []);
    }
  }, [initialFilters]);
  
  // ã‚¿ã‚¤ãƒ—ã®é¸æŠ/è§£é™¤
  const toggleType = (type) => {
    setSelectedTypes(prev => 
      prev.includes(type) 
        ? prev.filter(t => t !== type)
        : [...prev, type]
    );
  };
  
  // ä¸–ä»£ã®é¸æŠ/è§£é™¤
  const toggleGeneration = (generation) => {
    setSelectedGenerations(prev =>
      prev.includes(generation)
        ? prev.filter(g => g !== generation)
        : [...prev, generation]
    );
  };
  
  // ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‚¯ãƒªã‚¢
  const handleClear = () => {
    setSelectedTypes([]);
    setHeightRange([0.3, 20]);
    setWeightRange([1, 1000]);
    setSelectedGenerations([]);
  };
  
  // æ¤œç´¢ã‚’å®Ÿè¡Œ
  const handleApply = () => {
    onApplyFilters({
      types: selectedTypes,
      heightMin: heightRange[0],
      heightMax: heightRange[1],
      weightMin: weightRange[0],
      weightMax: weightRange[1],
      generations: selectedGenerations
    });
    onClose();
  };
  
  if (!isOpen) return null;
  
  return (
    <div className="filter-modal-overlay" onClick={onClose}>
      <div className="filter-modal-content" onClick={(e) => e.stopPropagation()}>
        <div className="filter-modal-header">
          <h2>ğŸ” ãƒã‚±ãƒ¢ãƒ³ã‚’çµã‚Šè¾¼ã‚€</h2>
          <button className="close-button" onClick={onClose}>Ã—</button>
        </div>
        
        <div className="filter-modal-body">
          {/* ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ */}
          <div className="filter-section">
            <h3>ã‚¿ã‚¤ãƒ—ï¼ˆã™ã¹ã¦å«ã‚€ï¼‰</h3>
            <div className="type-grid">
              {Object.entries(TYPE_TRANSLATIONS).map(([englishType, japaneseType]) => (
                <label key={englishType} className="type-checkbox">
                  <input
                    type="checkbox"
                    checked={selectedTypes.includes(englishType)}
                    onChange={() => toggleType(englishType)}
                  />
                  <span className={`type-badge type-${englishType}`}>
                    {japaneseType}
                  </span>
                </label>
              ))}
            </div>
          </div>
          
          {/* èº«é•·ãƒ•ã‚£ãƒ«ã‚¿ */}
          <div className="filter-section">
            <h3>èº«é•·</h3>
            <div className="range-slider">
              <input
                type="range"
                min="0.3"
                max="20"
                step="0.1"
                value={heightRange[0]}
                onChange={(e) => setHeightRange([parseFloat(e.target.value), heightRange[1]])}
              />
              <input
                type="range"
                min="0.3"
                max="20"
                step="0.1"
                value={heightRange[1]}
                onChange={(e) => setHeightRange([heightRange[0], parseFloat(e.target.value)])}
              />
              <p>{heightRange[0]}m - {heightRange[1]}m</p>
            </div>
          </div>
          
          {/* ä½“é‡ãƒ•ã‚£ãƒ«ã‚¿ */}
          <div className="filter-section">
            <h3>ä½“é‡</h3>
            <div className="range-slider">
              <input
                type="range"
                min="1"
                max="1000"
                step="1"
                value={weightRange[0]}
                onChange={(e) => setWeightRange([parseInt(e.target.value), weightRange[1]])}
              />
              <input
                type="range"
                min="1"
                max="1000"
                step="1"
                value={weightRange[1]}
                onChange={(e) => setWeightRange([weightRange[0], parseInt(e.target.value)])}
              />
              <p>{weightRange[0]}kg - {weightRange[1]}kg</p>
            </div>
          </div>
          
          {/* å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºãƒ•ã‚£ãƒ«ã‚¿ï¼ˆORãƒ­ã‚¸ãƒƒã‚¯ï¼‰ */}
          <div className="filter-section">
            <h3>å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºï¼ˆã„ãšã‚Œã‹ã«è©²å½“ï¼‰</h3>
            <div className="generation-list">
              {Object.entries(GENERATION_TRANSLATIONS).map(([key, value]) => (
                <label key={key} className="generation-checkbox">
                  <input
                    type="checkbox"
                    checked={selectedGenerations.includes(key)}
                    onChange={() => toggleGeneration(key)}
                  />
                  <span>{value.label}</span>
                </label>
              ))}
            </div>
          </div>
        </div>
        
        <div className="filter-modal-footer">
          <button className="clear-button" onClick={handleClear}>
            ã‚¯ãƒªã‚¢
          </button>
          <button className="apply-button" onClick={handleApply}>
            æ¤œç´¢å®Ÿè¡Œ
          </button>
        </div>
      </div>
    </div>
  );
};

export default FilterModal;
```

---

## ğŸ“Š APIå–å¾—ã®æœ€é©åŒ–

### æ®µéšçš„ãªãƒ‡ãƒ¼ã‚¿å–å¾—æˆ¦ç•¥

```javascript
// src/utils/pokemonApi.jsï¼ˆv3æœ€é©åŒ–ç‰ˆï¼‰

import axios from 'axios';

const BASE_URL = 'https://pokeapi.co/api/v2';
const TOTAL_POKEMON = 1025;

// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ã—ã¦APIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›
const cache = new Map();

// ã‚¹ãƒ†ãƒƒãƒ—1: å…¨ãƒã‚±ãƒ¢ãƒ³ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ï¼ˆIDã¨URLã®ã¿ï¼‰
export const fetchAllPokemonList = async () => {
  const cacheKey = 'all_pokemon_list';
  if (cache.has(cacheKey)) {
    return cache.get(cacheKey);
  }
  
  try {
    const response = await axios.get(
      `${BASE_URL}/pokemon?limit=${TOTAL_POKEMON}&offset=0`
    );
    cache.set(cacheKey, response.data.results);
    return response.data.results;
  } catch (error) {
    console.error('ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆå–å¾—ã‚¨ãƒ©ãƒ¼:', error);
    throw error;
  }
};

// ã‚¹ãƒ†ãƒƒãƒ—2: æŒ‡å®šç¯„å›²ã®ãƒã‚±ãƒ¢ãƒ³è©³ç´°ã‚’å–å¾—
export const fetchPokemonDetails = async (pokemonList, startIndex, endIndex) => {
  try {
    const slice = pokemonList.slice(startIndex, endIndex);
    
    // ä¸¦åˆ—ã§è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆæœ€å¤§10ä¸¦åˆ—ï¼‰
    const chunkSize = 10;
    const allDetails = [];
    
    for (let i = 0; i < slice.length; i += chunkSize) {
      const chunk = slice.slice(i, i + chunkSize);
      
      const detailsPromises = chunk.map(pokemon => {
        const id = pokemon.url.split('/').filter(Boolean).pop();
        const cacheKey = `pokemon_${id}`;
        
        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯
        if (cache.has(cacheKey)) {
          return Promise.resolve(cache.get(cacheKey));
        }
        
        return Promise.all([
          axios.get(pokemon.url),
          axios.get(`${BASE_URL}/pokemon-species/${id}`)
        ]).then(([pokemonRes, speciesRes]) => {
          const data = processPokemonData(pokemonRes.data, speciesRes.data);
          cache.set(cacheKey, data);
          return data;
        });
      });
      
      const chunkResults = await Promise.all(detailsPromises);
      allDetails.push(...chunkResults);
    }
    
    return allDetails;
  } catch (error) {
    console.error('ãƒã‚±ãƒ¢ãƒ³è©³ç´°å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
    throw error;
  }
};

// ãƒ‡ãƒ¼ã‚¿å‡¦ç†é–¢æ•°
const processPokemonData = (pokemon, species) => {
  // æ—¥æœ¬èªåã‚’å–å¾—
  const japaneseName = species.names.find(
    name => name.language.name === 'ja'
  )?.name || pokemon.name;
  
  // æ—¥æœ¬èªèª¬æ˜æ–‡ã‚’å–å¾—
  const japaneseDescription = species.flavor_text_entries
    .filter(entry => entry.language.name === 'ja')
    .map(entry => entry.flavor_text.replace(/\n/g, ''))
    .join(' ') || '';
  
  return {
    id: pokemon.id,
    name: pokemon.name,
    nameJa: japaneseName,
    types: pokemon.types,
    height: pokemon.height,
    weight: pokemon.weight,
    sprites: pokemon.sprites,
    stats: pokemon.stats,
    abilities: pokemon.abilities,
    description: japaneseDescription,
    generation: species.generation.name,
    evolutionChainUrl: species.evolution_chain?.url,
    genus: species.genera.find(g => g.language.name === 'ja')?.genus || ''
  };
};

// ã‚¹ãƒ†ãƒƒãƒ—3: å€‹åˆ¥ãƒã‚±ãƒ¢ãƒ³ã®å®Œå…¨ãªè©³ç´°ã‚’å–å¾—ï¼ˆè©³ç´°ãƒšãƒ¼ã‚¸ç”¨ï¼‰
export const fetchPokemonFullDetails = async (pokemonId) => {
  try {
    const [pokemonRes, speciesRes] = await Promise.all([
      axios.get(`${BASE_URL}/pokemon/${pokemonId}`),
      axios.get(`${BASE_URL}/pokemon-species/${pokemonId}`)
    ]);
    
    const pokemon = pokemonRes.data;
    const species = speciesRes.data;
    
    // åŸºæœ¬ãƒ‡ãƒ¼ã‚¿å‡¦ç†
    const baseData = processPokemonData(pokemon, species);
    
    // é€²åŒ–ãƒã‚§ãƒ¼ãƒ³ã‚’å–å¾—
    let evolutionChain = [];
    if (species.evolution_chain) {
      const evolutionRes = await axios.get(species.evolution_chain.url);
      evolutionChain = await parseEvolutionChain(evolutionRes.data.chain);
    }
    
    // ç™»å ´ã‚²ãƒ¼ãƒ ã‚’å–å¾—ã—ã¦æ—¥æœ¬èªåŒ–
    const games = species.game_indices.map(game => game.version.name);
    
    return {
      ...baseData,
      evolutionChain,
      games
    };
  } catch (error) {
    console.error('ãƒã‚±ãƒ¢ãƒ³å®Œå…¨è©³ç´°å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
    throw error;
  }
};

// é€²åŒ–ãƒã‚§ãƒ¼ãƒ³ã‚’ãƒ‘ãƒ¼ã‚¹ï¼ˆæ—¥æœ¬èªåã‚‚å–å¾—ï¼‰
const parseEvolutionChain = async (chain) => {
  const evolutionList = [];
  
  const traverse = async (node) => {
    const speciesId = node.species.url.split('/').filter(Boolean).pop();
    
    // æ—¥æœ¬èªåã‚’å–å¾—
    try {
      const speciesRes = await axios.get(`${BASE_URL}/pokemon-species/${speciesId}`);
      const japaneseName = speciesRes.data.names.find(
        name => name.language.name === 'ja'
      )?.name || node.species.name;
      
      evolutionList.push({
        id: speciesId,
        name: node.species.name,
        nameJa: japaneseName,
        url: node.species.url
      });
    } catch (error) {
      evolutionList.push({
        id: speciesId,
        name: node.species.name,
        nameJa: node.species.name,
        url: node.species.url
      });
    }
    
    if (node.evolves_to.length > 0) {
      for (const evolution of node.evolves_to) {
        await traverse(evolution);
      }
    }
  };
  
  await traverse(chain);
  return evolutionList;
};
```

---

## ğŸ¯ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆv3å®Œå…¨ç‰ˆï¼‰

### ãƒ‡ãƒ¼ã‚¿å–å¾—
- [x] åˆå›ã«å…¨ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆï¼ˆ1025åŒ¹ï¼‰ã‚’å–å¾—
- [x] æ®µéšçš„ã«ãƒã‚±ãƒ¢ãƒ³è©³ç´°ã‚’å–å¾—ï¼ˆ100åŒ¹ãšã¤ï¼‰
- [x] ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã§APIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›
- [x] æ—¥æœ¬èªåã‚’PokÃ©APIã‹ã‚‰å–å¾—
- [x] æ—¥æœ¬èªèª¬æ˜æ–‡ã‚’å–å¾—

### æ—¥æœ¬èªåŒ–
- [x] ãƒã‚±ãƒ¢ãƒ³åã‚’æ—¥æœ¬èªåŒ–
- [x] ã‚¿ã‚¤ãƒ—åã‚’æ—¥æœ¬èªåŒ–ï¼ˆã»ã®ãŠã€ã¿ãšç­‰ï¼‰
- [x] èƒ½åŠ›å€¤ã‚’æ—¥æœ¬èªåŒ–ï¼ˆã“ã†ã’ãã€ã¼ã†ãã‚‡ç­‰ï¼‰
- [x] é€²åŒ–ãƒã‚§ãƒ¼ãƒ³ã‚’æ—¥æœ¬èªåŒ–
- [x] å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºã‚’æ—¥æœ¬èªåŒ–ï¼ˆç¬¬1ä¸–ä»£: èµ¤ãƒ»ç·‘ç­‰ï¼‰

### ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- [x] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å®Ÿè£…
- [x] å…¨1025åŒ¹ã‚’å¯¾è±¡ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- [x] ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆANDæ¡ä»¶ï¼‰â­é‡è¦
- [x] èº«é•·ãƒ»ä½“é‡ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆç¯„å›²æŒ‡å®šï¼‰
- [x] å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºãƒ•ã‚£ãƒ«ã‚¿ï¼ˆORæ¡ä»¶ï¼‰
- [x] æ¤œç´¢ãƒœã‚¿ãƒ³ã§å®Ÿè¡Œ
- [x] é©ç”¨ä¸­ã®ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‚¿ã‚°è¡¨ç¤º
- [x] ãƒ•ã‚£ãƒ«ã‚¿ã‚¯ãƒªã‚¢æ©Ÿèƒ½

### ãƒšãƒ¼ã‚¸çŠ¶æ…‹ã®ä¿æŒ
- [x] è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰æˆ»ã‚‹æ™‚ã«å…ƒã®ãƒšãƒ¼ã‚¸ã‚’ä¿æŒ
- [x] è¡¨ç¤ºä»¶æ•°ã‚’ä¿æŒï¼ˆ20/50/100ä»¶ï¼‰
- [x] ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’ä¿æŒ
- [x] ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’å¾©å…ƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### è©³ç´°ãƒšãƒ¼ã‚¸
- [x] ç‹¬ç«‹ã—ãŸãƒšãƒ¼ã‚¸ã¨ã—ã¦å®Ÿè£…ï¼ˆ/pokemon/:idï¼‰
- [x] ãƒã‚±ãƒ¢ãƒ³å›³é‘‘é¢¨ã®å¤§ç”»é¢ãƒ‡ã‚¶ã‚¤ãƒ³
- [x] å‰ã¸/æ¬¡ã¸ãƒœã‚¿ãƒ³ã§ä»–ã®ãƒã‚±ãƒ¢ãƒ³ã«ç§»å‹•
- [x] é€²åŒ–ãƒã‚§ãƒ¼ãƒ³ã‚’æ—¥æœ¬èªã§è¡¨ç¤º
- [x] èƒ½åŠ›å€¤ã‚’ãƒãƒ¼ã‚°ãƒ©ãƒ•ã§è¡¨ç¤º
- [x] å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºã‚’æ—¥æœ¬èªã§è¡¨ç¤º
- [x] ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

### UI/UX
- [x] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- [x] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [x] ã‚¹ãƒ ãƒ¼ã‚ºãªç”»é¢é·ç§»
- [x] ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

---

## ğŸ“ å¤‰æ›´å±¥æ­´

### v3.0ï¼ˆæœ€æ–°ç‰ˆï¼‰
- ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ã‚’ANDæ¡ä»¶ã«å¤‰æ›´ï¼ˆã™ã¹ã¦ã®é¸æŠã‚¿ã‚¤ãƒ—ã‚’å«ã‚€ãƒã‚±ãƒ¢ãƒ³ã®ã¿ï¼‰
- å‡ºç¾ã‚·ãƒªãƒ¼ã‚ºãƒ•ã‚£ãƒ«ã‚¿ã¯ORæ¡ä»¶ã®ã¾ã¾
- å…¨æ©Ÿèƒ½å®Ÿè£…å®Œäº†

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [PokÃ©API å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://pokeapi.co/docs/v2)
- [React Router v6 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://reactrouter.com/en/main)
- [React å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev/)


